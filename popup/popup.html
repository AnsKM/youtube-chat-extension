<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Chat Assistant Settings</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <header>
      <h1>YouTube Chat Assistant</h1>
      <p class="subtitle" id="poweredBy">Powered by Gemini 2.5 Flash</p>
    </header>

    <main>
      <!-- Model Selection Section -->
      <section class="settings-section">
        <h2>AI Model</h2>
        <div class="input-group">
          <label for="modelSelect">Select Model</label>
          <select id="modelSelect">
            <option value="gemini">Gemini 2.5 Flash</option>
            <option value="deepseek">DeepSeek R1 (Free)</option>
          </select>
        </div>
        <p class="help-text" id="modelDescription">
          Fast and efficient model from Google
        </p>
      </section>

      <!-- API Key Section -->
      <section class="settings-section">
        <h2>API Configuration</h2>
        <!-- Gemini API Key -->
        <div class="input-group" id="geminiKeyGroup">
          <label for="geminiApiKey">Gemini API Key</label>
          <input 
            type="password" 
            id="geminiApiKey" 
            placeholder="Enter your Gemini API key"
            autocomplete="off"
          />
          <button id="saveGeminiKey" class="btn btn-primary">Save</button>
        </div>
        <!-- OpenRouter API Key -->
        <div class="input-group" id="openrouterKeyGroup" style="display: none;">
          <label for="openrouterApiKey">OpenRouter API Key</label>
          <input 
            type="password" 
            id="openrouterApiKey" 
            placeholder="Enter your OpenRouter API key"
            autocomplete="off"
          />
          <button id="saveOpenrouterKey" class="btn btn-primary">Save</button>
        </div>
        <p class="help-text" id="apiKeyHelp">
          Get your API key from 
          <a href="https://makersuite.google.com/app/apikey" target="_blank" id="apiKeyLink">Google AI Studio</a>
        </p>
      </section>

      <!-- Chat Control Section (shown when API key exists and on YouTube) -->
      <section id="chatControlSection" class="settings-section" style="display: none;">
        <h2>Chat Assistant</h2>
        <button id="openChat" class="btn btn-primary">Open Chat Assistant</button>
        <p class="help-text">Click to start chatting with the current YouTube video</p>
      </section>

      <!-- Status Section -->
      <section class="settings-section">
        <h2>Status</h2>
        <div class="status-item">
          <span class="status-label">Connection:</span>
          <span id="connectionStatus" class="status-value">Checking...</span>
        </div>
        <div class="status-item">
          <span class="status-label">Model:</span>
          <span class="status-value" id="currentModel">Gemini 2.5 Flash</span>
        </div>
        <div class="status-item">
          <span class="status-label">Context Window:</span>
          <span class="status-value" id="contextWindow">1 Million Tokens</span>
        </div>
      </section>

      <!-- Settings Section -->
      <section class="settings-section">
        <h2>Preferences</h2>
        <div class="input-group">
          <label for="language">Preferred Language</label>
          <select id="language">
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="zh">Chinese</option>
          </select>
        </div>
        <div class="input-group">
          <label for="theme">Theme</label>
          <select id="theme">
            <option value="auto">Auto (System)</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
          </select>
        </div>
      </section>

      <!-- Actions Section -->
      <section class="settings-section">
        <h2>Actions</h2>
        <button id="clearAllChats" class="btn btn-secondary">Clear All Chats</button>
        <button id="exportAllChats" class="btn btn-secondary">Export All Chats</button>
      </section>

      <!-- Footer -->
      <footer>
        <p class="version">Version 1.0.0</p>
        <div class="links">
          <a href="https://github.com/yourusername/youtube-chat-extension" target="_blank">GitHub</a>
          <span>â€¢</span>
          <a href="https://github.com/yourusername/youtube-chat-extension/issues" target="_blank">Report Issue</a>
        </div>
      </footer>
    </main>
  </div>

  <script src="popup.js"></script>
</body>
</html>